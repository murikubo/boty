# 후미카씨/fumikasan

## 경고사항
- 후마카씨의 사용자 데이터는 json으로 관리되어 있습니다. 따라서 사용 중 데이터에 관한 문제 발생 시 **책임지지 않습니다**. ex) 데이터 유출

## 신규 업데이트 내용

**7.0.0(Seigi)**
- 드디어 등촌동 구석탱이에 있던 봇 서버가 글로벌해졌습니다! 최-신 기술인 AWS의 도움을 받아 제공됩니다.
- 저도 압니다. 그거 말고는 별로 업데이트된 내용이 없습니다

**6.0.0(Trinity Field)**
- 미뤄두고 미뤄두던 버전 업데이트가 이뤄졌습니다.
> 아래에선 지금까지 미뤄뒀던 변경내용들 및 신규 추가 기능들을 서술합니다.

**클라이언트 변경 내용**
- 업데이트를 맞아 버전명이 변경되었습니다.

**음악재생 변경내역**
- 기존 `커스텀 (음원파일 주소)`명령어가 삭제되었습니다.
- 8메가 이하의 음원파일을 discord에 업로드할 때 댓글에 `.추가`명령어로 해당 음원을 재생할 수 있습니다.
- 음원파일과 기존 유튜브 음악 재생 큐가 통합되었습니다.
> 이제 한 쪽(유튜브/음원)이 재생중일 때 다른 쪽(음원/유튜브)을 큐에 넣더라도 멈추지 않고 큐에 포함됩니다. 
- 리스트(큐 일람) 출력 방식을 변경했습니다.
- 이제 서버마다 각각의 볼륨이 적용됩니다.

**크롤링 이용 신기능**
- `북새통`명령어가 추가되었습니다.
> 파라미터로 오늘, 내일 또는 기타 날짜 입력시 해당 날짜의 신간 발매 책들이 출력됩니다.
- `나무위키`명령어가 추가되었습니다.
> 검색하는 내용이 나무위키 항목이 있을 경우 해당 링크가, 없을경우 검색항목이 출력됩니다.

**API이용 신기능**
- api를 이용해 서울시 공공자전거`따릉이`대여소 및 거치되어있는 자전거 수를 출력하는 기능이 추가되었습니다.
> 결과는 10건까지 출력됩니다. 원하는 대여소가 출력되지 않을 경우엔 상세한 이름으로 검색하시길 바랍니다.

**가챠시뮬 신기능**
- 가챠 시스템을 갈아엎었습니다.
- 이제 획득한 카드가 저장됩니다. `카드`명령어를 통해 획득한 카드를 확인할 수 있습니다.
- 필요없는`카드`를 `-이적`시킬 수 있습니다.
- 자세히 보고싶은 `카드`를 `-상세보기`할 수도 있습니다.
- `배틀`기능이 추가되었습니다.
> 서버에 카드를 소유한 유저와 배틀을 즐길 수 있습니다. 
>> 아직 베타이며 추후 기능 추가/변경/제거가 이루어질 수 있습니다.
- `쥬얼슬롯`기능이 추가되었습니다.
> 250쥬얼을 소모하여 슬롯을 돌립니다. 2개가 동일할시 300쥬얼, 3개(잭팟)일시 7,000쥬얼을 획득합니다.

**할일 변경내역**
- (롤백)할일 + index 입력으로 해당 데이터를 출력해줍니다.
- 할일 데이터 삭제시 어떤 데이터였는지 출력해줍니다.

**카드퀴즈 변경내역**
- 정규식을 이용해 문제 출력시 개행되게 변경하였습니다.
- 이제 띄어쓰기가 틀려도 정답으로 인정됩니다.

**기타 신기능**
- 소숫점 포함 7자리까지 `가챠/확률` 시뮬 기능이 추가되었습니다. 
- `홀짝`기능이 추가되었습니다.
> 총 몇 번만에 결과가 나왔는지 출력됩니다.
- embedFormat, 배열을 10개씩 잘라주는 arrayCut이 추가되었습니다.
- `초대`기능이 추가되었습니다.
> 후미카씨의 `초대`링크를 통해 다른 서버에서도 후미카씨를 이용해보세요. 

**대체 이런 기능 왜 만듬**
- 7자리까지 `찬반`결과를 출력해주는 기능이 추가되었습니다.
- 모두에게 자신의 칼퇴를 알려보세요. `퇴근` 기능이 추가되었습니다.
- 무작위의`영어`, `일본어`가 출력되는 기능이 추가되었습니다.

**기타 변경 내용**
- 미세먼지/초미세먼지 표기가 변경되었습니다. 
- 복권수탁사업자가 동행복권으로 변경되어 기존 나눔로또 api가 서비스 종료되었으므로 관련 기능이 비활성화 되었습니다.
> 혹시라도 동행복권이 api를 제공할시 변경 예정
- 각종 json데이터 구조가 변경되었습니다.
- 작성되지 않은 기타 여러가지들이 변경되었습니다.

## 이전 버전 업데이트 목록 일람

**1.0 (벚꽃 필 무렵)**
- 후미카씨 출격~

1.1 ~ 1.8
- 버그 수정 및 오타 수정

1.9
- 가챠 시뮬레이터 추가(상세 카드 분류별 데이터 구별은 2.0에서)

1.9.1
- 이제 더이상 후미카씨가 음성채널에 이미 들어가있으면 다시 음성표출을 하지 않습니다.

**2.0 (Radio Happy)**
- 이제 지정된 맞춤법을 틀리면 범죄계수가 표출됩니다.
- embeds를 사용하여 일부 명령어들의 가독성을 향상하였습니다. (추후 지속적으로 추가 및 변경 예정)
- 지정된 프리픽스 이외의 문자로 명령어를 실행하던 오류를 수정했습니다.
- 일부 오타가 수정되었습니다.

2.0.1
- 가챠 테이블에 [SSR 번 앤 던!] 코세키 레이나 추가
- 맞춤법 범죄계수에 신규 단어 추가
- 맞춤법 범죄계수에서 100이하의 범죄계수가 나오던 버그 수정
- 또 뭔가 수정했었는데 기억이 안 남;;;;

2.1.0
- 가챠 테이블의 json화가 대강 완료되었습니다.(추후 재분류 작업 필요.)
- 이에 따른 가챠 알고리즘 변경 사전 작업이 진행됐습니다.
- 일부 오타를 수정했습니다.

2.1.1 
- .야+할말 명령어에 대한 프리픽스 버그 수정

2.2.0
- 네이버 파파고 API를 이용한 한<->영 번역기 추가
- 통상 아이돌 가챠 테이블의 추가 분류가 완료되었습니다.(한정, 페스 테이블은 추후 분류 예정)
- 맞춤법 범죄계수에 신규 단어 추가
- 가챠 알고리즘 수정
- 리메이크될 가챠 시뮬레이션 업데이트에 앞서 사전 코드들이 추가되었습니다.

2.3.0
- 다국어 번역기 추가
- 모든 카드 데이터 json 분류 완료
- 가챠시 아이돌 싸인 표출 사전작업 완료(후반 데이터들은 검은색 싸인이라 추후 링크 교체 예정)

2.4.0
- 가챠시스템 리메이크
- 테스트모드 추가

2.5.0
- 검은색이던 사인 데이터 교체
- [SSR 번 앤 던!] 코세키 레이나 -> [SSR 번 앤드 쾅!!] 코세키 레이나 로 수정

2.6.0
- ~~드디어~~ 가챠시 통상<->페스<->한정 구분 지원.
- .명령어 가독성 수정(추후 전부 수정 예정)
- 이제 .말 + 할 말로 후미카씨게에 말을 시킬 수 있습니다.

2.6.5
- 사전 기능 추가 (βeta)
- 틀린 맞춤법 사용시 범죄계수 -> 자동 교정으로 변경
- 버전 명 바꾸고 싶음

2.7.0
- 맞춤법 자동교정 목록에 신규 단어들 추가
- 음성퀴즈 임시 데이터 및 파일 추가
- .꺼져 명령어 사용시 이후에 음성채널에 들어오지 못하는 버그 수정

2.8.0
- 가챠 테이블에 [브레이크 원 모멘트] 미즈키 세이라 추가

2.9.0
- 맞춤법 자동교정 목록에 신규 단어 추가
- .변환/.qusghks 명령어를 사용하여 이용 가능한 조합화된 한글의 영타->조합화된 한글 변환기능 추가
> .qusghks audfuddjfmf tkdydgkdu dldyd rksmdgks whgkqghkehls gksrmfdml dudxk -> whgkqghkehls gksrmf qusghksrlsmd cnrk

2.9.1
- .변환/.qusghks 명령어를 사용했을 시 콘솔에 result값이 남던 문제 수정

**3.0.0 (Yes! Party Time!!)**
- 영->한 변환 기능에 초성 번역 기능 추가
- .유튜브/유튭 명령어로 관련 영상들의 아이디와 링크를 따올 수 있습니다!

3.0.1
- 명령어에 유튜브 플레이리스트 검색 설명 추가
- 유튜브 검색 결과에 명령어 입력 시간 추가

3.0.2
- 여고생모드에서의 명령어를 임베드 처리화
- 유튜브 검색 결과에 봇 정보 추가

3.1.0
- 추후 추가될 기능인 퀴즈 명령어가 추가되었습니다.(명령어에 미반영)

3.1.1
- 사전 명령어를 기존 .dick 외에 .사전 명령어를 이용서도 사용할 수 있습니다.

3.2.0
- 유튜브 검색시 제한 시간동안 1~5까지의 이모지가 표현됩니다.
- 원하는 순번에 맞는 이모지를 클릭할시 해당 영상의 썸네일,설명,아이디,링크 등이 표기됩니다.

3.2.1
- 유튜브 상세설명 임베드의 재생시간 표기가 올바르지 않던 문제 수정
- 퀴즈 임베드에 인라인 적용

3.3.0
- 레벨 시스템 구현
> 추후 레벨에 따른 보상이나 기능을 구현할 예정입니다.
>> 현재 레벨업에 따른 필요 경험치는 다음 레벨^2 형식으로 구현되어있습니다. 추후 리 디자인 예정입니다.
- 퀴즈 임베드 방식 변경

3.4.0~3.6.0(업데이트 로그 누락.)
- 서울시 지하철 API를 이용한 관련 기능 추가
> 검색한 역의 현재 시간표 출력 기능 지원

> 수도권 전철 내 역들의 최단시간/최단경로 계산 기능 지원
- 국립국어원 API키를 이용한 관련 기능 추가
- 환율 API를 이용한 각국의 환율 조회 기능 추가
- todo(할일)저장, 편집 기능 추가.
- 화폐 기능인 '쥬얼' 추가
- 음악 재생 기능 추가
- 메인index.js 파일 단순화
- 가챠 시뮬레이터 모듈화
- 모드 기능 모듈화(json 형식으로 변경)
- 레벨 기능 리뉴얼
- 핑 체크 기능 추가
- 나눔로또 6/45 API를 이용한 로또 기능 추가
> 원하는 회차에 대한 로또번호, 당첨금액, 1등 수령 액수 등 조회 가능

> 원하는 회차가 없을 경우 기본값으로 해당 주의 로또 조회 기능을 지원.
- 서울시 미세먼지/초미세먼지 API키를 이용한 관련 기능 추가
> 미세먼지/초미세먼지의 농도, 예보, 경보, 생활요령 등 조회 가능을 지원.
- 맞춤법 교정 기능 리뉴얼
- 기타 여러 누락된 사항들이 수정되었습니다.

3.6.1
- 오타 수정

3.7.0
- 드디어 메인index.js에 util.js를 사용한 새 방식의 prefix를 적용.
- 이 외 필요없는 주석or명령어 제거
- 로또 기능의 회차 갱신 방식 변경
- 지하철 시간 명령어에서 토요일, 일요일, 평일 구분이 안 되던 문제 수정
- music.js(음악)에 Youtube기능을 일부 흡수
- music.js(음악)에 큐에 들어있는 곡 삭제와 지정 삭제 추가

3.7.1
- 쓰이지 않던 코드 제거
- music.js(음악)에 도움 명령어 사용시 '삭제/지정삭제'기능 알림 추가
- 봇 클라이언트 상태를 '(버전 명) 플레이중' 에서 'Listening to (버전명)' 으로 변경

3.7.2
- 로또 회차 갱신방식 변경

3.7.3
- music.js(음악)에서 음성채널에 들어가있지 않은 유저도 재생 중 명령어를 사용할 수 있던 점 수정.
> 대신에 음성채널에 들어가야 한다는 메시지를 출력합니다. 
- config.json파일에서 쓰지 않던 데이터값 삭제

3.8.0
- 로또 랜덤번호 생성기능이 추가되었습니다.
> 기본값은 1회이며, `로또번호 5`와 같이 사용하면 5회의 랜덤값을 출력합니다. 
- 정말 아무짝에도 쓸모없는 거꾸로 명령어가 추가되었습니다.
> .요네겠있 도수 할 야해용사 걸이 가어령명 든모 는에절우만 년내 (직접 한 번 써보세요) 
- music.js(음악)에서 추가한 곡의 출력되는 정보와 순서를 살짝 변경하였습니다.
> 기존 영상 설명 제거(해당 설명은 .유튭/유튜브 기능에서 계속 사용 가능합니다.), 영상 아이디->추가자로 변경, 뭐 이것저것 순서 변경

3.8.1
- 기존 일부 함수들을 화살표함수로 변경
> 무슨 이유가 있냐고요? 그냥 바꿔보니 재밌어서요.
- 지하철 길찾기 기능에서 환승 노선 기능 제거
> 노반공사하던거 그냥 아예 지워버렸어요. 어차피 작동도 안 했었고요. 조만간 다시 추가할게요

3.9.0/4.0.0β
- 해당 버전대 업데이트(베타) 기록 하단으로 이동.

**4.0.0(Orange Sapphire)**
- 이제 노래 재생 중 현재 재생중인 곡의 정보를 확인 가능합니다.
- 음악 재생의 음질이 심각하게 낮던 문제를 수정하였습니다.
- 이제 자신만의 노래를 따로 관리 가능합니다.
> 기존에 todo와 함께 관리하던 문제를 수정하기 위해 관련 기능들과 함께 업데이트 되었습니다. 
- 노래를 9개까지 저장하여 삭제, 변경, 편집, 바로 큐에 넣기, 저장된 노래를 일괄로 큐에 넣기 등의 기능을 지원합니다.
- 오미쿠지 기능이 추가되었습니다.
> 매일 아침 한 번 뽑아보는건 어떤가요?

4.0.1
- 노래가 10개까지 저장되던 문제 수정.

4.1.0
- 음악 재생 중 리스트가 남아있는데 강제로 종료할 경우 playStream오류때문에 node.js가 멈추던 문제 수정 
> 다른 부분에서 error를 반환하지만 급한대로 node.js가 멈추던 문제 먼저 수정.
- 이제 `추가`명령어와 `검색`명령어로 곡을 추가할 경우 바로 음성채널에 들어와 곡을 재생합니다. 
> `노래`명령어로 자신만의 리스트에서 곡을 추가할 경우 아직까지는 기존의 `재생`명령어로 음성채널에 불러들여 재생시켜야합니다.
>> 추후 두 기능의 통합을 검토하면서 동일시 적용할지는 고려해봐야겠습니다.

4.1.1
- 유저가 음성채널에 들어가있지 않은 상태에서 `추가`나 `검색`명령어로 곡을 추가했을 때 오류가 나던 문제 수정 

4.2.0
- 일본의 소비세(8%)계산기능 추가 
- 음악을 추가하고 재생할 때 너무 많은 텍스트를 출력해 지저분하던 문제 수정.
> 이제 노래가 추가되었다는 텍스트가 노래 정보 embed에 포함됩니다. 

4.3.0
- 음악을 들을 때 큐에 넣었던 곡들을 일괄로 삭제할 수 있는 `일괄삭제`명령어 추가
- 어반 딕셔너리 기능 추가 `ud || 어반` 명령어로 가용 가능합니다.
- 이제 로마일한 기능을 `rjk`로도 사용 가능합니다.
- 이제 국어사전을 `kd`으로도 사용 가능합니다.


**5.0.0(Halloween♥Code)**
- 미뤄두고 미뤄두던 버전 업데이트가 이뤄졌습니다.
> 아래에선 지금까지 미뤄뒀던 변경내용들 및 신규 추가 기능들을 서술합니다.

**클라이언트 변경 내용**
- 업데이트 겸 할로윈을 맞아 버전명이 변경되었습니다.

**음악재생 신기능**
- 이제 `커스텀 (음원파일 주소)`명령어로 위치가 youtube가 아닌 곡을 재생할 수 있습니다.
> 8메가 이하의 음원파일을 discord에 업로드 후 해당 파일의 링크를 복사 후 이용하는 것을 추천합니다.

**API이용 신기능**
- api를 이용해 `한강`수온을 출력하는 기능이 추가되었습니다.
- 섀도우버스 포탈 api를 이용하여 `카드퀴즈`기능을 추가하였습니다.
> api문제 및 코드 문제로 인해 간혈 에러가 발생할 수 있습니다.
- 몬스터 헌터 월드 DB api를 이용한 몬헌 정보 일람기능이 추가되었습니다.
> 상세 명령어 및 사용법은 `몬헌 -h`를 이용하여 확인 가능합니다.
- 날씨api를 이용하여 현재 날씨 및 일기예보(최대 3일)을 조회할 수 있는 기능이 추가되었습니다.
> 상세 명령어 및 사용법은 `날씨 -도움말`을 이용하여 확인 가능합니다.

**로또 신기능**
- 자신의 로또번호를 입력하여 해당 주의 로또번호와 대조하여 결과를 알려주는 `로또확인`기능이 추가되었습니다.
> 최대 5개의 배열까지 입력하여 확인 가능합니다.
>> ex) 1,2,3,4,5,6 / 7,8,9,10,11,12
- 랜덤생성된 번호로 해당 주의 로또번호와 대조하여 결과를 알려주는 `로또시뮬`기능이 추가되었습니다. 

**기타 신기능**
- 각종 단위들을 환산할 수 있는 기능이 추가되었습니다.
> 상세 명령어 및 사용법은 `환산 -h`를 이용하여 확인 가능합니다.
- 파라미터를 하나 더 넘길 수 있게 플러스 파라미터가 추가되었습니다.
- `날짜 YYYYMMDD`로 D-day를 알 수 있는 기능이 추가되었습니다.
- 해당 주가 몇 번째 주인지 알 수 있는 `주일`명령어가 추가되었습니다.
> 이를 이용해 그 주가 마트의 의무휴업일이 포함되어있는지 여부를 제공합니다. `마트`로도 사용 가능.
- `시계`명령어를 이용해 초단위로 현재 시간을 알 수 있게되었습니다.
- `탕수육`게임이 추가되었습니다! 심심할 때 즐겨보세요.
> 서버문제로 게임에서 질 수도 있음을 유의하면서 해주세요.

**선생님 또 쓸모없는 기능을 만드셨습니까**
- A부터 입력된 셀까지`엑셀`의 셀이 몇 개인지 알려주는 기능을 추가하였습니다.
- 입력된 배열을 거꾸로 바꿔주는 `배열거꾸로`기능이 추가되었습니다.
- 유튜브 링크에서 아이디만 잘라주는 `유자`기능이 추가되었습니다.

**기타 변경 내용**
- `변환`명령어가 모듈화됐습니다.
- `소비세`명령어를 사용한 결과 금액을 KRW로 변환하여 추가 정보를 제공합니다.
- level system과 가챠 시뮬레이터에 관련된 기능을 조금 더 비활성화 시켰습니다.
- 작성되지 않은 기타 여러가지들이 변경되었습니다.

## 제작자
- Murikubo [github link](https://github.com/murikubo)
- Jinjeok [github link](https://github.com/Jinjeok)

Special Thanks to Fumika Sagisawa, [ksgarceus](https://github.com/ksgarceus)
=======
## 기여자
- Jinjeok
- Murikubo


3.9.0/4.0.0β
- 4.0.0버전 업데이트를 위한 4.0.0버전의 베타를 3.9.0버전대부터 시작합니다!
> 해당 버전대에 추가/수정되는 기능은 전부 수시로 롤백되거나 삭제될 수 있습니다. 
>> 그 말은 즉슨 4.0.0 정식 버전에서 볼 수도 있고 못 볼 수도 있는 기능들이란 말이죠. 
- music.js(음악)에서의 심각한 음질 문제를 해결했~~다고 믿고있~~습니다
> 정방향 통신 옵션과 bitrate옵션을 이용하여 음질은 높아졌지만 안정성은 낮아졌을 수도 있습니다. (핑이 다소 튀는 문제 확인)
- music.js(음악)에서 `.현재`명령어를 통해 재생중인 곡의 정보, 재생시간/총 시간 등의 정보를 확인할 수 있습니다.
> 재생시간 부분은 검증없이 때려박은거라 추후 잦은 수정이 있을 수 있습니다.

3.9.1/4.0.0β
- music.js(음악)에서의 음질을 조금 더 높혔~~다고 믿고있~~습니다.
> bitrate옵션을 MP3 표준까지 올려봤습니다. 
- 오미쿠지 기능이 추가되었습니다
> 매일 아침 한 번 뽑아보세요.

3.9.2/4.0.0β
- 이제 todo(할일)데이터와 별개로 노래 데이터를 따로 저장할 수 있습니다.
> `노래 -추가` 등의 명령어로 노래를 5개까지 저장 후 관리할 수 있습니다. 
>> 이와 관련해선 추후 추가 기능이 추가 될 예정입니다. 

3.9.3/4.0.0β
- `노래 -추가` 명령어로 추가한 곡들을 이제 표출되는 이모지를 통해 바로 큐에 넣을 수 있습니다!
> `노래 -리스트` 명령어를 통해 `노래 -추가` 명령어로 추가한 곡 중 원하는 번호의 이모지를 선택하면 해당 곡이 큐에 추가됩니다.
>> 현재 작동만 확인하고 제대로 된 값이 들어가는지는 검증하기 않았습니다. 이후 변경 예정.

3.9.4/4.0.0β
- 3.9.3/4.0.0β 버전에서 추가됐던 기능에 대한 잘못된 코드를 수정하였습니다.
> 유튜브 result값의 배열이 잘못 들어가던 문제 수정.
>> 일부 곡들은 여전히 result값 자체가 이상한 문제가 있습니다. 추후 확인 예정입니다.

3.9.5/4.0.0β
- 현재 재생중인 곡의 추가자(재생자)표기가 잘못 표기되던 점 수정
- 기타 오타 수정 햇
